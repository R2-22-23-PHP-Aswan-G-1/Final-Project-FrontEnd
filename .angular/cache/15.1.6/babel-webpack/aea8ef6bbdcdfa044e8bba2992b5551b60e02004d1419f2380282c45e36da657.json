{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\n// import { DeviceDetectorService } from 'ngx-device-detector';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nlet LoginComponent = class LoginComponent {\n  constructor(router, authService, p) {\n    this.router = router;\n    this.authService = authService;\n    this.error = '';\n    this.loginForm = new FormGroup({\n      email: new FormControl(null, [Validators.required, Validators.email]),\n      password: new FormControl(null, [Validators.required])\n    });\n  }\n  submitRegisterForm(loginForm) {\n    if (loginForm.valid) {\n      this.authService.login(this.loginForm.value).subscribe(response => {\n        console.log(response);\n        if (response.message == \"success\") {\n          localStorage.setItem('token', response.token);\n          localStorage.setItem('user', response.user);\n          this.authService.token();\n          this.router.navigate(['/home']);\n        } else {\n          this.error = response.message;\n        }\n      });\n    }\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC;AAEA,SAASC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;AAW5D,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAW3BC,YAAoBC,MAAa,EAAUC,WAAuB,EAAEC,CAAC;IAAjD,WAAM,GAANF,MAAM;IAAiB,gBAAW,GAAXC,WAAW;IAVpD,UAAK,GAAW,EAAE;IAElB,cAAS,GAAc,IAAIL,SAAS,CAAC;MACnCO,KAAK,EAAE,IAAIR,WAAW,CAAC,IAAI,EAAE,CAACE,UAAU,CAACO,QAAQ,EAAEP,UAAU,CAACM,KAAK,CAAC,CAAC;MACrEE,QAAQ,EAAE,IAAIV,WAAW,CAAC,IAAI,EAAE,CAACE,UAAU,CAACO,QAAQ,CAAC;KAGtD,CAAC;EASJ;EAGGE,kBAAkB,CAACC,SAAmB;IACvC,IAAGA,SAAS,CAACC,KAAK,EAAC;MACnB,IAAI,CAACP,WAAW,CAACQ,KAAK,CAAC,IAAI,CAACF,SAAS,CAACG,KAAK,CAAC,CAACC,SAAS,CAAEC,QAAQ,IAAG;QACjEC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrB,IAAGA,QAAQ,CAACG,OAAO,IAAI,SAAS,EAAC;UAClCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAACL,QAAQ,CAACM,KAAK,CAAC;UAC5CF,YAAY,CAACC,OAAO,CAAC,MAAM,EAACL,QAAQ,CAACO,IAAI,CAAC;UACxC,IAAI,CAAClB,WAAW,CAACiB,KAAK,EAAE;UACxB,IAAI,CAAClB,MAAM,CAACoB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;SAC/B,MAAI;UAET,IAAI,CAACC,KAAK,GAACT,QAAQ,CAACG,OAAO;;MAIzB,CAAC,CAAC;;EAEF;CAGD;AAxCYjB,cAAc,eAL1BJ,SAAS,CAAC;EACT4B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACW1B,cAAc,CAwC1B;SAxCYA,cAAc","names":["Component","FormControl","FormGroup","Validators","LoginComponent","constructor","router","authService","p","email","required","password","submitRegisterForm","loginForm","valid","login","value","subscribe","response","console","log","message","localStorage","setItem","token","user","navigate","error","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/tasneem/Desktop/test laravel/angular/Final-Project-FrontEnd/src/app/auth/login/login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n// import { DeviceDetectorService } from 'ngx-device-detector';\n\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { UserDataService } from 'src/app/services/user-data.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  error: string = ''\n\n  loginForm: FormGroup = new FormGroup({\n    email: new FormControl(null, [Validators.required, Validators.email]),\n    password: new FormControl(null, [Validators.required]),\n  \n\n  })\n\n\nconstructor(private router:Router ,private authService:AuthService ,p){\n\n\n \n\n\n}\n\n\n   submitRegisterForm(loginForm:FormGroup){\n  if(loginForm.valid){\n  this.authService.login(this.loginForm.value).subscribe((response)=>{\n    console.log(response);\n    if(response.message == \"success\"){\n   localStorage.setItem('token',response.token)\n   localStorage.setItem('user',response.user)\n     this.authService.token();\n     this.router.navigate(['/home'])\n    }else{\n\nthis.error=response.message\n\n\n    }\n  })\n  }\n  }\n\n\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}