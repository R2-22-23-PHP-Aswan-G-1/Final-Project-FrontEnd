{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class AuthService {\n  constructor(httpClient, router) {\n    this.httpClient = httpClient;\n    this.router = router;\n    this.userToken = new BehaviorSubject(null);\n    if (localStorage.getItem('token') != null) {\n      this.token();\n    }\n  }\n  token() {\n    this.userToken.next(localStorage.getItem('token'));\n  }\n  logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    this.userToken.next(null);\n    this.router.navigate(['/login']);\n  }\n  register(formData) {\n    return this.httpClient.post(`http://127.0.0.1:8000/api/register`, formData);\n  }\n  login(formData) {\n    return this.httpClient.post(`http://127.0.0.1:8000/api/login`, formData);\n  }\n}\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n};\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,SAASA,eAAe,QAAoB,MAAM;;;;AAOlD,OAAM,MAAOC,WAAW;EAExBC,YAAqBC,UAAsB,EAAWC,MAAa;IAA9C,eAAU,GAAVD,UAAU;IAAuB,WAAM,GAANC,MAAM;IAD5D,cAAS,GAAC,IAAIJ,eAAe,CAAM,IAAI,CAAC;IAExC,IAAGK,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAE,IAAI,EAAC;MACrC,IAAI,CAACC,KAAK,EAAE;;EAIX;EAGHA,KAAK;IACH,IAAI,CAACC,SAAS,CAACC,IAAI,CAACJ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EACpD;EAEAI,MAAM;IACJL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;IAChCN,YAAY,CAACM,UAAU,CAAC,MAAM,CAAC;IACjC,IAAI,CAACH,SAAS,CAACC,IAAI,CAAC,IAAI,CAAC;IACzB,IAAI,CAACL,MAAM,CAACQ,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAChC;EAGAC,QAAQ,CAACC,QAAe;IACvB,OAAQ,IAAI,CAACX,UAAU,CAACY,IAAI,CAAC,oCAAoC,EAACD,QAAQ,CAAC;EAC5E;EAIAE,KAAK,CAACF,QAAe;IACnB,OAAQ,IAAI,CAACX,UAAU,CAACY,IAAI,CAAC,iCAAiC,EAACD,QAAQ,CAAC;EACzE;;AA/BYb,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAgB,SAAXhB,WAAW;EAAAiB,YAFV;AAAM","names":["BehaviorSubject","AuthService","constructor","httpClient","router","localStorage","getItem","token","userToken","next","logout","removeItem","navigate","register","formData","post","login","factory","providedIn"],"sourceRoot":"","sources":["/home/tasneem/Desktop/test laravel/angular/Final-Project-FrontEnd/src/app/auth/auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\nuserToken=new BehaviorSubject<any>(null);\nconstructor(private  httpClient: HttpClient , private router:Router) {\nif(localStorage.getItem('token')!=null){\n  this.token();\n}\n\n\n   }\n\n\ntoken(){\n  this.userToken.next(localStorage.getItem('token'))\n}\n\nlogout(){\n  localStorage.removeItem('token');\n  localStorage.removeItem('user');\nthis.userToken.next(null);\nthis.router.navigate(['/login'])\n}\n\n\nregister(formData:object ):Observable<any>{\n return  this.httpClient.post(`http://127.0.0.1:8000/api/register`,formData)\n}\n\n\n\nlogin(formData:object ):Observable<any>{\n  return  this.httpClient.post(`http://127.0.0.1:8000/api/login`,formData)\n }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}